<ng-container *ngIf="authService.isAuthenticated$ | async">
	<button
		id="user-drawer-button"
		nz-button
		(click)="layoutService.showUserDrawer = !layoutService.showUserDrawer"
		fxLayoutAlign="center center"
	>
		<i nz-icon nzType="menu" nzTheme="outline"></i>
		<span class="button-text">Mon compte</span>
	</button>

	<mas-user-drawer
		[visible]="layoutService.showUserDrawer"
		(closed)="layoutService.showUserDrawer = false"
	></mas-user-drawer>
</ng-container>
<div
	style="min-height: 100%; position: relative"
	fxLayout="column"
	fxLayoutAlign="start center"
	class="content"
	[class.compact]="enableCompactMode$ | async"
>
	<nz-alert
		nzBanner
		[nzMessage]="offlineTpl"
		[nzShowIcon]="false"
		class="offline-banner"
		*ngIf="isOffline$ | async"
	></nz-alert>
	<ng-template #offlineTpl>
		<i nz-icon nzType="api" nzTheme="twotone" nzTwotoneColor="#faad14"></i>
		Vous êtes actuellement déconnecté
	</ng-template>
	<a
		id="header"
		[class.fixed-header]="layoutService.chatLayout$ | async"
		routerLink="/"
		fxFlex="none"
		[style.align-items]="(domain$ | async) ? 'center' : undefined"
	>
		<img src="assets/logo.svg" alt="Logo" title="Al Puccino & Pierre Colateur" id="logo" />
		<div id="title">
			<div id="app-name" [style.align-self]="(domain$ | async) ? 'flex-start' : 'center'">
				<span class="first-letter">D</span>écompresso
			</div>
			<div
				id="room-name"
				*ngIf="domain$ | async as domain"
				[style.font-size.px]="domainFontSize$ | async"
			>
				{{ domain }}
			</div>
		</div>
	</a>
	<div class="main-container" fxFlex="grow" fxLayout="column">
		<router-outlet></router-outlet>
	</div>
	<mas-footer></mas-footer>
</div>
